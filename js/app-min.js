function addEnemy(e){for(var t=0;t<e;t++){var i=new Enemy;i.initProperty(),allEnemies.push(i)}}function collision(e){return e.y===player.y&&Math.abs(e.x-player.x)<50}var WIDTH=101,HEIGHT=83,BASIC_SPEED=100,Enemy=function(){this.x=3*WIDTH,this.y=2*HEIGHT,this.speed=BASIC_SPEED,this.sprite="images/enemy-bug.png"};Enemy.prototype.initProperty=function(){this.x=-Math.ceil(3*Math.random())*WIDTH,this.y=Math.ceil(4*Math.random())*HEIGHT,this.speed=BASIC_SPEED+50*Math.ceil(3*Math.random())},Enemy.prototype.move=function(e){this.x+=e*this.speed},Enemy.prototype.update=function(e){this.move(e),this.x>5*WIDTH&&this.initProperty()},Enemy.prototype.render=function(){ctx.drawImage(Resources.get(this.sprite),this.x,this.y+15,60,105)};var Player=function(){this.x=3*WIDTH,this.y=5*HEIGHT,this.sprite="images/char-boy.png"};Player.prototype.resetPlayer=function(){var e=setTimeout(function(){player.y=5*HEIGHT,player.x=2*WIDTH},500)},Player.prototype.checkCollisions=function(e){e.forEach(function(e){collision(e)&&(console.log("col"),player.resetPlayer())})},Player.prototype.update=function(e){this.y<HEIGHT&&this.resetPlayer(),this.checkCollisions(allEnemies)},Player.prototype.render=function(){ctx.drawImage(Resources.get(this.sprite),this.x,this.y-10)},Player.prototype.handleInput=function(e){switch(e){case"left":this.x-=WIDTH;break;case"right":this.x+=WIDTH;break;case"up":this.y-=HEIGHT;break;case"down":this.y+=HEIGHT;break}};var allEnemies=[];addEnemy(5);var player=new Player;document.addEventListener("keyup",function(e){var t={37:"left",38:"up",39:"right",40:"down"};player.handleInput(t[e.keyCode])});