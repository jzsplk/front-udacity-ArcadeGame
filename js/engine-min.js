var Engine=function(e){function n(){var e=Date.now(),a=(e-f)/1e3*d;g(a),i(),f=e,k+=a,p.requestAnimationFrame(n)}function a(){t(),f=Date.now(),n()}function g(e){s(e)}function s(e){allEnemies.forEach(function(n){n.update(e)}),player.update()}function o(){var e=Math.floor(3*Math.random());w=h[e]}function i(){var e=w,n=6,a=5,g,s;for(g=0;g<6;g++)for(s=0;s<5;s++)b.drawImage(Resources.get(e[g]),101*s,83*g);r()}function r(){allEnemies.forEach(function(e){e.render()}),allObstacles.forEach(function(e){e.render()}),allTreasures.forEach(function(e){e.render()}),player.render()}function t(){k=0,m(1)}function c(){return k}function m(e){d=e}var l=e.document,p=e.window,u=l.createElement("canvas"),b=u.getContext("2d"),f,k,d=1;u.width=505,u.height=606,l.body.appendChild(u);var h=[["images/water-block.png","images/stone-block.png","images/stone-block.png","images/stone-block.png","images/stone-block.png","images/grass-block.png"],["images/stone-block.png","images/water-block.png","images/water-block.png","images/water-block.png","images/water-block.png","images/grass-block.png"],["images/stone-block.png","images/grass-block.png","images/grass-block.png","images/grass-block.png","images/grass-block.png","images/stone-block.png"]],w=h[0];return Resources.load(["images/stone-block.png","images/water-block.png","images/grass-block.png","images/enemy-bug.png","images/char-boy.png","images/Rock.png","images/Key.png","images/Selector.png","images/Heart.png","images/Gem Blue.png","images/Gem Green.png","images/Gem Orange.png"]),Resources.onReady(a),e.ctx=b,{reset:t,getGamingTime:c,setTimeSpeed:m,changeMap:o,win:p}}(this);